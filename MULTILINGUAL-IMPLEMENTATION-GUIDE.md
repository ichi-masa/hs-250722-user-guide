# å¤šè¨€èªåŒ–å®Ÿè£…ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**å¯¾å¿œè¨€èªæ•°**: 26è¨€èª
**ç·ãƒšãƒ¼ã‚¸æ•°**: 32ãƒšãƒ¼ã‚¸/è¨€èª
**ç·ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 832 HTMLãƒ•ã‚¡ã‚¤ãƒ«
**å®Ÿè£…æ–¹å¼**: è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ + ãƒ€ãƒŸãƒ¼HTMLï¼ˆå¾Œã§ç¿»è¨³ç‰ˆã¨å·®ã—æ›¿ãˆï¼‰

---

## ğŸ¯ å®Ÿè£…ã®æ–¹é‡

### ãƒ•ã‚§ãƒ¼ã‚º1: ä»•çµ„ã¿æ§‹ç¯‰ï¼ˆ5å–¶æ¥­æ—¥ï¼‰
ãŠå®¢æ§˜ã®è¦æœ›:
> ã€Œç¿»è¨³å¾Œã®HTMLãƒ‡ãƒ¼ã‚¿ãŒç„¡ãã¦ã‚‚ä½œæ¥­ã‚’é€²ã‚ã¦ã€ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ãŒæ¥ãŸã‚‰å…¥ã‚Œã‚‹ã ã‘ã«ã—ãŸã„ã€

**å®Ÿè£…å†…å®¹:**
1. è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã®å®Ÿè£…
2. è‹±èªç‰ˆHTMLã‚’26è¨€èªåˆ†ã‚³ãƒ”ãƒ¼ï¼ˆãƒ€ãƒŸãƒ¼é…ç½®ï¼‰
3. æ¤œç´¢æ©Ÿèƒ½ã®å¤šè¨€èªå¯¾å¿œ
4. å…¨HTMLã«è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’è¿½åŠ 

**å®ŒæˆçŠ¶æ…‹:**
- 26è¨€èªãƒ•ã‚©ãƒ«ãƒ€ãŒå­˜åœ¨
- è¨€èªåˆ‡ã‚Šæ›¿ãˆãŒå‹•ä½œï¼ˆå…¨ã¦è‹±èªã®ã¾ã¾ï¼‰
- æ¤œç´¢æ©Ÿèƒ½ã‚‚å‹•ä½œï¼ˆè‹±èªã®ã¾ã¾ï¼‰

### ãƒ•ã‚§ãƒ¼ã‚º2: ç¿»è¨³HTMLå·®ã—æ›¿ãˆï¼ˆãŠå®¢æ§˜ or å¼Šç¤¾ï¼‰
**ä½œæ¥­å†…å®¹:**
1. ç¿»è¨³HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å„è¨€èªãƒ•ã‚©ãƒ«ãƒ€ã«ä¸Šæ›¸ã
2. searchdata.jsonç”Ÿæˆï¼ˆæŠ€è¡“ä½œæ¥­ï¼‰
3. å‹•ä½œç¢ºèª

**å·¥æ•°:**
- ãŠå®¢æ§˜å¯¾å¿œ: 3ã€œ4å–¶æ¥­æ—¥ï¼ˆHTMLå·®ã—æ›¿ãˆã®ã¿ã€è¤‡æ•°åä½“åˆ¶å¿…é ˆï¼‰
- å¼Šç¤¾å¯¾å¿œ: 7å–¶æ¥­æ—¥ï¼ˆå…¨ä½œæ¥­è¾¼ã¿ï¼‰

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### ç¾åœ¨ï¼ˆè‹±èªã®ã¿ï¼‰
```
dist/
â””â”€â”€ en-GB/
    â”œâ”€â”€ index.html
    â”œâ”€â”€ how-to-use.html
    â”œâ”€â”€ ... (32ãƒšãƒ¼ã‚¸)
    â””â”€â”€ assets/
        â”œâ”€â”€ css/
        â”œâ”€â”€ js/
        â”œâ”€â”€ img/
        â””â”€â”€ data/
            â””â”€â”€ searchdata-en-GB.json
```

### ãƒ•ã‚§ãƒ¼ã‚º1å®Œäº†å¾Œï¼ˆ26è¨€èªãƒ€ãƒŸãƒ¼ï¼‰
```
dist/
â”œâ”€â”€ en-GB/           # å®Œæˆç‰ˆï¼ˆè‹±èªï¼‰
â”œâ”€â”€ ja/              # ãƒ€ãƒŸãƒ¼ï¼ˆè‹±èªã®ã‚³ãƒ”ãƒ¼ï¼‰
â”œâ”€â”€ zh-CN/           # ãƒ€ãƒŸãƒ¼ï¼ˆè‹±èªã®ã‚³ãƒ”ãƒ¼ï¼‰
â”œâ”€â”€ de/              # ãƒ€ãƒŸãƒ¼ï¼ˆè‹±èªã®ã‚³ãƒ”ãƒ¼ï¼‰
â”œâ”€â”€ fr/              # ãƒ€ãƒŸãƒ¼ï¼ˆè‹±èªã®ã‚³ãƒ”ãƒ¼ï¼‰
â””â”€â”€ ... (26è¨€èªåˆ†)
    â”œâ”€â”€ index.html (è¨€èªåˆ‡ã‚Šæ›¿ãˆUIè¿½åŠ æ¸ˆã¿)
    â”œâ”€â”€ how-to-use.html
    â””â”€â”€ assets/
        â”œâ”€â”€ css/style.css
        â”œâ”€â”€ js/
        â”‚   â”œâ”€â”€ language-config.js    (æ–°è¦)
        â”‚   â”œâ”€â”€ language-switcher.js  (æ–°è¦)
        â”‚   â””â”€â”€ search.js             (ä¿®æ­£æ¸ˆã¿)
        â””â”€â”€ data/
            â””â”€â”€ searchdata-[lang].json (è‹±èªãƒ™ãƒ¼ã‚¹)
```

### ãƒ•ã‚§ãƒ¼ã‚º2å®Œäº†å¾Œï¼ˆç¿»è¨³ç‰ˆï¼‰
```
dist/
â”œâ”€â”€ ja/
â”‚   â”œâ”€â”€ index.html (ç¿»è¨³æ¸ˆã¿)
â”‚   â””â”€â”€ assets/data/searchdata-ja.json (æ—¥æœ¬èªç‰ˆ)
â””â”€â”€ ...
```

---

## ğŸ› ï¸ å®Ÿè£…æ‰‹é †

### Step 1: å¯¾å¿œè¨€èªã‚³ãƒ¼ãƒ‰ã®ç¢ºå®š

**26è¨€èªãƒªã‚¹ãƒˆ:**
```javascript
const LANGUAGES = [
  { code: 'en-GB', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  { code: 'zh-CN', name: 'ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'de', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
  { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'it', name: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
  { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
  { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
  { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
  { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
  { code: 'nl', name: 'Nederlands', flag: 'ğŸ‡³ğŸ‡±' },
  { code: 'pl', name: 'Polski', flag: 'ğŸ‡µğŸ‡±' },
  { code: 'tr', name: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
  { code: 'sv', name: 'Svenska', flag: 'ğŸ‡¸ğŸ‡ª' },
  { code: 'da', name: 'Dansk', flag: 'ğŸ‡©ğŸ‡°' },
  { code: 'no', name: 'Norsk', flag: 'ğŸ‡³ğŸ‡´' },
  { code: 'fi', name: 'Suomi', flag: 'ğŸ‡«ğŸ‡®' },
  { code: 'cs', name: 'ÄŒeÅ¡tina', flag: 'ğŸ‡¨ğŸ‡¿' },
  { code: 'hu', name: 'Magyar', flag: 'ğŸ‡­ğŸ‡º' },
  { code: 'ro', name: 'RomÃ¢nÄƒ', flag: 'ğŸ‡·ğŸ‡´' },
  { code: 'el', name: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', flag: 'ğŸ‡¬ğŸ‡·' },
  { code: 'th', name: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
  { code: 'vi', name: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
  { code: 'id', name: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
  { code: 'ms', name: 'Bahasa Melayu', flag: 'ğŸ‡²ğŸ‡¾' }
];
```

---

### Step 2: è¨€èªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/js/language-config.js`

```javascript
// å¯¾å¿œè¨€èªã®è¨­å®š
const LANGUAGES = [
  { code: 'en-GB', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  // ... 26è¨€èªåˆ†
];

const DEFAULT_LANG = 'en-GB';

// ç¾åœ¨ã®è¨€èªã‚’å–å¾—
function getCurrentLanguage() {
  const path = window.location.pathname;
  const match = path.match(/\/([a-z]{2}(-[A-Z]{2})?)\//);
  return match ? match[1] : DEFAULT_LANG;
}

// LocalStorageã‹ã‚‰è¨€èªè¨­å®šã‚’å–å¾—
function getSavedLanguage() {
  return localStorage.getItem('selectedLanguage') || DEFAULT_LANG;
}

// è¨€èªã‚’ä¿å­˜
function saveLanguage(lang) {
  localStorage.setItem('selectedLanguage', lang);
}
```

---

### Step 3: è¨€èªåˆ‡ã‚Šæ›¿ãˆUIå®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/js/language-switcher.js`

```javascript
// è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã®ç”Ÿæˆ
class LanguageSwitcher {
  constructor() {
    this.currentLang = getCurrentLanguage();
    this.init();
  }

  init() {
    this.createSwitcher();
    this.attachEvents();
  }

  // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’ç”Ÿæˆ
  createSwitcher() {
    const container = document.querySelector('.p-header');
    if (!container) return;

    const switcherHTML = `
      <div class="p-language-switcher">
        <button class="p-language-switcher__button js-dropdown"
                aria-controls="languageDropdown"
                aria-expanded="false">
          <span class="p-language-switcher__current">${this.getCurrentLanguageName()}</span>
          <svg class="p-language-switcher__icon" width="12" height="8">
            <path d="M1 1l5 5 5-5" stroke="currentColor" fill="none"/>
          </svg>
        </button>
        <ul class="p-language-switcher__dropdown"
            id="languageDropdown"
            aria-hidden="true">
          ${this.generateLanguageList()}
        </ul>
      </div>
    `;

    container.insertAdjacentHTML('beforeend', switcherHTML);
  }

  // è¨€èªãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
  generateLanguageList() {
    return LANGUAGES.map(lang => `
      <li class="p-language-switcher__item ${lang.code === this.currentLang ? 'is-active' : ''}">
        <a href="${this.getLanguageUrl(lang.code)}"
           class="p-language-switcher__link"
           data-lang="${lang.code}">
          <span class="p-language-switcher__flag">${lang.flag}</span>
          <span class="p-language-switcher__name">${lang.name}</span>
        </a>
      </li>
    `).join('');
  }

  // ç¾åœ¨ã®è¨€èªåã‚’å–å¾—
  getCurrentLanguageName() {
    const lang = LANGUAGES.find(l => l.code === this.currentLang);
    return lang ? `${lang.flag} ${lang.name}` : 'English';
  }

  // è¨€èªåˆ¥URLã‚’ç”Ÿæˆ
  getLanguageUrl(langCode) {
    const currentPath = window.location.pathname;
    const fileName = currentPath.split('/').pop() || 'index.html';
    return `/${langCode}/${fileName}`;
  }

  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
  attachEvents() {
    const links = document.querySelectorAll('.p-language-switcher__link');

    links.forEach(link => {
      link.addEventListener('click', (e) => {
        const selectedLang = e.currentTarget.dataset.lang;
        saveLanguage(selectedLang);
      });
    });
  }
}

// åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', () => {
  new LanguageSwitcher();
});
```

---

### Step 4: æ¤œç´¢æ©Ÿèƒ½ã®å¤šè¨€èªå¯¾å¿œ

**ãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£:** `src/js/search.js`

```javascript
// æ—¢å­˜ã®search.jsã«è¿½åŠ ãƒ»ä¿®æ­£
async loadSearchData() {
  try {
    const currentLang = getCurrentLanguage(); // è¿½åŠ 
    const jsonFile = `./assets/data/searchdata-${currentLang}.json`; // ä¿®æ­£

    const response = await fetch(jsonFile);

    if (!response.ok) {
      // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: è‹±èªç‰ˆã‚’èª­ã¿è¾¼ã‚€
      const fallbackResponse = await fetch('./assets/data/searchdata-en-GB.json');
      this.searchData = await fallbackResponse.json();
    } else {
      this.searchData = await response.json();
    }
  } catch (error) {
    console.error('æ¤œç´¢ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
    this.searchData = [];
  }
}
```

---

### Step 5: HTMLè‡ªå‹•å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `add-language-switcher.js`

```javascript
#!/usr/bin/env node

const fs = require('fs');
const path = require('path');
const glob = require('glob');

console.log('ğŸŒ è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã‚’è¿½åŠ ã—ã¾ã™...\n');

// 26è¨€èªãƒªã‚¹ãƒˆ
const LANGUAGES = [
  'en-GB', 'ja', 'zh-CN', 'de', 'fr', 'es', 'it', 'pt', 'ru', 'ko',
  'ar', 'nl', 'pl', 'tr', 'sv', 'da', 'no', 'fi', 'cs', 'hu',
  'ro', 'el', 'th', 'vi', 'id', 'ms'
];

const distDir = './dist';

// è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã®HTML
const languageSwitcherHTML = `
  <!-- Language Switcher -->
  <div class="p-language-switcher" data-language-switcher>
  </div>
`;

// hreflangã‚¿ã‚°ã‚’ç”Ÿæˆ
function generateHreflangTags(currentLang, fileName) {
  const baseUrl = 'https://example.com'; // æœ¬ç•ªURLã«å¤‰æ›´

  return LANGUAGES.map(lang => {
    return `  <link rel="alternate" hreflang="${lang}" href="${baseUrl}/${lang}/${fileName}" />`;
  }).join('\n');
}

// HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
function processHTMLFile(filePath) {
  const content = fs.readFileSync(filePath, 'utf8');

  // ç¾åœ¨ã®è¨€èªã‚’åˆ¤å®š
  const langMatch = filePath.match(/dist\/([a-z]{2}(-[A-Z]{2})?)\//);
  const currentLang = langMatch ? langMatch[1] : 'en-GB';

  // ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å–å¾—
  const fileName = path.basename(filePath);

  let newContent = content;

  // 1. hreflangã‚¿ã‚°ã‚’è¿½åŠ 
  const hreflangTags = generateHreflangTags(currentLang, fileName);
  newContent = newContent.replace(
    '</head>',
    `${hreflangTags}\n</head>`
  );

  // 2. è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã‚’è¿½åŠ 
  if (!newContent.includes('data-language-switcher')) {
    newContent = newContent.replace(
      /<header[^>]*class="[^"]*p-header[^"]*"[^>]*>/,
      (match) => `${match}\n${languageSwitcherHTML}`
    );
  }

  // 3. html langå±æ€§ã‚’æ›´æ–°
  newContent = newContent.replace(
    /<html[^>]*>/,
    `<html lang="${currentLang}">`
  );

  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ãä¿å­˜
  fs.writeFileSync(filePath, newContent, 'utf8');

  return true;
}

// ãƒ¡ã‚¤ãƒ³å‡¦ç†
function main() {
  let processedCount = 0;

  LANGUAGES.forEach(lang => {
    const pattern = `${distDir}/${lang}/**/*.html`;
    const files = glob.sync(pattern);

    if (files.length === 0) {
      console.log(`âš ï¸  ${lang}: HTMLãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
      return;
    }

    files.forEach(file => {
      try {
        processHTMLFile(file);
        processedCount++;
      } catch (error) {
        console.error(`âŒ ${file}: å‡¦ç†å¤±æ•—`, error.message);
      }
    });

    console.log(`âœ… ${lang}: ${files.length}ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†å®Œäº†`);
  });

  console.log(`\nğŸ‰ åˆè¨ˆ ${processedCount} ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã—ã¾ã—ãŸï¼`);
}

// å®Ÿè¡Œ
main();
```

**å®Ÿè¡Œæ–¹æ³•:**
```bash
node add-language-switcher.js
```

---

### Step 6: searchdata.jsonç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `generate-searchdata.js`

```javascript
#!/usr/bin/env node

const fs = require('fs');
const path = require('path');
const glob = require('glob');
const cheerio = require('cheerio'); // npm install cheerio å¿…è¦

console.log('ğŸ” searchdata.jsonã‚’ç”Ÿæˆã—ã¾ã™...\n');

const LANGUAGES = [
  'en-GB', 'ja', 'zh-CN', 'de', 'fr', 'es', 'it', 'pt', 'ru', 'ko',
  'ar', 'nl', 'pl', 'tr', 'sv', 'da', 'no', 'fi', 'cs', 'hu',
  'ro', 'el', 'th', 'vi', 'id', 'ms'
];

// HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ¤œç´¢ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
function extractSearchData(htmlPath) {
  const html = fs.readFileSync(htmlPath, 'utf8');
  const $ = cheerio.load(html);

  // ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—
  const title = $('title').text() ||
                $('.p-user-guide-header__title').text() ||
                'Untitled';

  // URLã‚’å–å¾—
  const fileName = path.basename(htmlPath);
  const url = `./${fileName}`;

  // ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’å–å¾—
  const description = $('meta[name="description"]').attr('content') || '';

  // æœ¬æ–‡ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
  $('script, style, header, footer').remove();
  const content = $('.p-main').text()
    .replace(/\s+/g, ' ')
    .trim()
    .substring(0, 500);

  return {
    title,
    url,
    description,
    content
  };
}

// è¨€èªã”ã¨ã«searchdata.jsonã‚’ç”Ÿæˆ
function generateSearchDataForLanguage(lang) {
  const pattern = `./dist/${lang}/**/*.html`;
  const files = glob.sync(pattern);

  if (files.length === 0) {
    console.log(`âš ï¸  ${lang}: HTMLãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
    return;
  }

  const searchData = files.map(file => {
    try {
      return extractSearchData(file);
    } catch (error) {
      console.error(`âŒ ${file}: ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºå¤±æ•—`, error.message);
      return null;
    }
  }).filter(Boolean);

  // JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
  const outputDir = `./dist/${lang}/assets/data`;
  const outputFile = `${outputDir}/searchdata-${lang}.json`;

  if (!fs.existsSync(outputDir)) {
    fs.mkdirSync(outputDir, { recursive: true });
  }

  fs.writeFileSync(outputFile, JSON.stringify(searchData, null, 2), 'utf8');

  console.log(`âœ… ${lang}: ${searchData.length}ãƒšãƒ¼ã‚¸ â†’ ${outputFile}`);
}

// ãƒ¡ã‚¤ãƒ³å‡¦ç†
function main() {
  LANGUAGES.forEach(lang => {
    generateSearchDataForLanguage(lang);
  });

  console.log('\nğŸ‰ ã™ã¹ã¦ã®è¨€èªã®searchdata.jsonã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼');
}

// å®Ÿè¡Œ
main();
```

**å®Ÿè¡Œæ–¹æ³•:**
```bash
npm install cheerio
node generate-searchdata.js
```

---

### Step 7: ã‚¢ã‚»ãƒƒãƒˆã‚³ãƒ”ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `copy-assets.js`

```javascript
#!/usr/bin/env node

const fs = require('fs-extra'); // npm install fs-extra å¿…è¦

console.log('ğŸ“¦ ã‚¢ã‚»ãƒƒãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™...\n');

const LANGUAGES = [
  'en-GB', 'ja', 'zh-CN', 'de', 'fr', 'es', 'it', 'pt', 'ru', 'ko',
  'ar', 'nl', 'pl', 'tr', 'sv', 'da', 'no', 'fi', 'cs', 'hu',
  'ro', 'el', 'th', 'vi', 'id', 'ms'
];

const sourceDir = './dist/en-GB/assets';

LANGUAGES.forEach(lang => {
  if (lang === 'en-GB') return;

  const targetDir = `./dist/${lang}/assets`;

  // assetsãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚³ãƒ”ãƒ¼
  fs.copySync(sourceDir, targetDir, {
    overwrite: false,
    filter: (src) => {
      // è¨€èªå›ºæœ‰ãƒ•ã‚¡ã‚¤ãƒ«ã¯é™¤å¤–
      return !src.includes('searchdata-');
    }
  });

  console.log(`âœ… ${lang}: ã‚¢ã‚»ãƒƒãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ`);
});

console.log('\nğŸ‰ å®Œäº†ï¼');
```

**å®Ÿè¡Œæ–¹æ³•:**
```bash
npm install fs-extra
node copy-assets.js
```

---

## ğŸš€ å®Ÿè¡Œæ‰‹é †ï¼ˆã¾ã¨ã‚ï¼‰

### ãƒ•ã‚§ãƒ¼ã‚º1: ä»•çµ„ã¿æ§‹ç¯‰

```bash
# 1. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install cheerio fs-extra glob

# 2. è‹±èªç‰ˆã‚’ãƒ“ãƒ«ãƒ‰
npx gulp build

# 3. 26è¨€èªåˆ†ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
for lang in ja zh-CN de fr es it pt ru ko ar nl pl tr sv da no fi cs hu ro el th vi id ms; do
  cp -r dist/en-GB dist/$lang
done

# 4. è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã‚’è¿½åŠ 
node add-language-switcher.js

# 5. searchdata.jsonã‚’ç”Ÿæˆ
node generate-searchdata.js

# 6. ã‚¢ã‚»ãƒƒãƒˆã‚’ã‚³ãƒ”ãƒ¼
node copy-assets.js

# 7. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ç¢ºèª
npx http-server ./dist -p 8080
```

**ç¢ºèªURL:**
- http://localhost:8080/en-GB/
- http://localhost:8080/ja/
- http://localhost:8080/zh-CN/

---

## âœ… ç¢ºèªé …ç›®

### ãƒ•ã‚§ãƒ¼ã‚º1å®Œäº†æ™‚
- [ ] 26è¨€èªãƒ•ã‚©ãƒ«ãƒ€ãŒå­˜ï¿½ï¿½ï¿½ã™ã‚‹
- [ ] å„è¨€èªãƒ•ã‚©ãƒ«ãƒ€ã«32ãƒšãƒ¼ã‚¸ã®HTMLãŒã‚ã‚‹
- [ ] è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è¨€èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨URLãŒå¤‰ã‚ã‚‹
- [ ] æ¤œç´¢æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ï¼ˆè‹±èªã®ã¾ã¾ï¼‰
- [ ] hreflangã‚¿ã‚°ãŒå…¨ãƒšãƒ¼ã‚¸ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹

### ãƒ•ã‚§ãƒ¼ã‚º2å®Œäº†æ™‚ï¼ˆç¿»è¨³ç‰ˆå·®ã—æ›¿ãˆå¾Œï¼‰
- [ ] ç¿»è¨³ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è¨€èªåˆ‡ã‚Šæ›¿ãˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- [ ] æ¤œç´¢æ©Ÿèƒ½ãŒå„è¨€èªã§å‹•ä½œã™ã‚‹
- [ ] ãƒªãƒ³ã‚¯åˆ‡ã‚ŒãŒãªã„
- [ ] CSS/JS/ç”»åƒãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã‚‹

---

## ğŸ“ ç´å“ç‰©

### å…ˆæ–¹ã«æä¾›ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

1. **å®Ÿè£…æ¸ˆã¿ã®distãƒ•ã‚©ãƒ«ãƒ€**
   - 26è¨€èª Ã— 32ãƒšãƒ¼ã‚¸ = 832 HTML
   - å…¨ã¦è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ä»˜ã
   - æ¤œç´¢æ©Ÿèƒ½ä»˜ãï¼ˆè‹±èªãƒ™ãƒ¼ã‚¹ï¼‰

2. **ç¿»è¨³HTMLå·®ã—æ›¿ãˆæ‰‹é †æ›¸**
   - ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®æ–¹æ³•
   - searchdata.jsonç”Ÿæˆæ–¹æ³•ï¼ˆã¾ãŸã¯å¼Šç¤¾å¯¾å¿œï¼‰
   - å‹•ä½œç¢ºèªæ–¹æ³•

3. **README.md**
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
   - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
   - ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ–¹æ³•

---

## âš ï¸ æ³¨æ„äº‹é …

### searchdata.json ã«ã¤ã„ã¦
**æŠ€è¡“çš„ãªä½œæ¥­ã®ãŸã‚ã€å¼Šç¤¾å¯¾å¿œã‚’æ¨å¥¨**

ç†ç”±:
- HTMLã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºãŒå¿…è¦
- Node.jsã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡ŒãŒå¿…è¦
- å…ˆæ–¹ã§å¯¾å¿œå›°é›£ãªå¯èƒ½æ€§ãŒé«˜ã„

### ç¿»è¨³HTMLå·®ã—æ›¿ãˆã«ã¤ã„ã¦
**ä½œæ¥­é‡ã®è¦‹ç©ã‚‚ã‚Š:**
- 832ãƒ•ã‚¡ã‚¤ãƒ« Ã— 2åˆ† = 28æ™‚é–“
- 3ã€œ4å–¶æ¥­æ—¥ï¼ˆè¤‡æ•°åä½“åˆ¶å¿…é ˆï¼‰
- ç¢ºèªä½œæ¥­ã‚’å«ã‚ã‚‹ã¨5ã€œ6å–¶æ¥­æ—¥

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### è¨€èªåˆ‡ã‚Šæ›¿ãˆãŒå‹•ã‹ãªã„
```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª
console.log(getCurrentLanguage()); // ç¾åœ¨ã®è¨€èª
console.log(LANGUAGES); // è¨€èªãƒªã‚¹ãƒˆ
```

### æ¤œç´¢ãŒå‹•ã‹ãªã„
```bash
# searchdata.jsonãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
ls dist/ja/assets/data/searchdata-ja.json

# JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’ç¢ºèª
cat dist/ja/assets/data/searchdata-ja.json
```

### CSS/JSãŒèª­ã¿è¾¼ã¾ã‚Œãªã„
```bash
# ãƒ‘ã‚¹ã‚’ç¢ºèª
# ç›¸å¯¾ãƒ‘ã‚¹ãŒæ­£ã—ã„ã‹ç¢ºèª
# dist/ja/index.html ã‹ã‚‰è¦‹ã¦
# ./assets/css/style.css ãŒæ­£ã—ã„ã‹
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

è³ªå•ãƒ»ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ã€ã„ã¤ã§ã‚‚ã”é€£çµ¡ãã ã•ã„ã€‚

**é€£çµ¡å…ˆ:** [ã‚ãªãŸã®é€£çµ¡å…ˆ]

---

**æœ€çµ‚æ›´æ–°æ—¥:** 2025-01-08
